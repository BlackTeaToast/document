# 上架整合文档

## Listing Introduction
Listing 是为服务上架到 EnSaaS 4.0 Catalog 和 Marketplace 提供上架的方案和 api.


## 上架整合流程
### 1.1 上架服务流程

```bash
 上架服务 ---> 上架服务对应的方案 ---> 上架服务方案料号
```
### 1.2 上架服务步骤
1. 上架服务，调用 [上架服务 API](#service) 进行上架
2. 上架服务对应的方案，调用 [上架服务方案 API](#servicePlan) 进行上架
3. 上架服务方案料号，调用 [上架服务料号 API](#pn) 进行上架

### 2.1 上架服包流程

```bash
 上架包服务 ---> 上架服务方案料号
```
### 2.2 上架服务包步骤
1. 上架服务包，调用 [上架服务包 API](#servicePackage) 进行上架
2. 上架服务方案料号，调用 [上架服务料号 API](#pn) 进行上架 
    
## Listing 结构关系图
- [x] service
- [x] servicePackage

```bash
  ___________________________________________________________________________________________________
  |      Service        |      ServicePlan        |       PN         |    Datacenter  |     Price   |
  |                     |                         |                  |                |             | 
  |                     |                         |                  |                |             |
  |                     |                         |               /~~~~~>    SA    ~~~~~>   price   |
  |                     |                         |    --------  /   |                |             |
  |                     |  _________________   /~~~~~~>| PN A | /  ~~~~~>    HZ    ~~~~~>   price   |
  |                     |  |               |  /   |    -------- \    |                |             | 
  |                /~~~~~~>| servicePlan A | /    |              \ ~~~~~>    JE    ~~~~~>   price   |
  |  -----------  /     |  |               | \    |                  |                |             |
  |  | service | /      |  -----------------  \   |                  |                |             | 
  |  ----------- \      |                      \  |     --------  / ~~~~~>   SA    ~~~~~>   price   | 
  |               \     |                       \~~~~~~>| PN B | /   |                |             |
  |                \    |                         |     -------- \  ~~~~~>   HZ    ~~~~~>   price   | 
  |                 \   |   _________________     |               \  |                |             | 
  |                  \  |   |               |     |                \~~~~~>   JE    ~~~~~>   price   | 
  |                   \~~~~>| servicePlan B |     |                  |                |             |
  |                     |   |               |     |                  |                |             |
  |                     |   -----------------     |                  |                |             | 
  |                     |                         |                  |                |             | 
  ---------------------------------------------------------------------------------------------------
```

